<% if flash[:notice] %>
  <p class='notice'><%= flash[:notice] %></p>
<% end %>

<h1 class='name font'>Books</h1>

<main>

  <table>
    <tread>
      <tr>
        <th class='font'>Title</th>
        <th class='font'>Body</th>
        <th colspan='3'></th>
      </tr>
    </tread>
    <tbody>
      <% @books.each do |book| %>
        <tr>
          <td class='content'><%= book.title %></td>
          <td class='content'><%= book.body %></td>
          <td class='tab'><%= link_to "Show", book_path(book) %></td>
          <td class='tab'><%= link_to "Edit", edit_book_path(book) %></td>
          <td class='tab'><%= link_to "Destroy", book_path(book), method: :delete, data: {confirm: 'Are you sure?'} %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

</main>

<div class='name font'>
  <h2>New book</h2>
  <%= form_with model:@book, local:true do |f| %>
  
    <% if @book.errors.any? %>
      <div class='errorframe'>
        <h3>error!!!</h3>
        <ul>
          <% @book.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
  
    <h5 class='new-create font'>Title</h5>
    <%= f.text_field :title %>
    <h5 class='new-create font'>Body</h5>
    <%= f.text_area :body %>
    <div class='submit'><%= f.submit'Create Book' %></div>
  <% end %>
</div>
